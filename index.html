<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<title>StudyFlow LMS</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;600;700&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#f5f3f0;--card:#fff;--primary:#7c3d3d;--pale:#f5eaea;
  --accent:#c17b4e;--text:#1a1714;--muted:#7a7370;--light:#b0aaa8;
  --border:#e8e3df;--ok:#4a8c6f;--warn:#c17b4e;--bad:#c44c4c;--info:#4a6fa5;
  --bar:54px;--r:14px;--rs:10px;
  --sh:0 2px 12px rgba(0,0,0,.07);--shl:0 8px 36px rgba(0,0,0,.13);
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{width:100%;background:var(--bg);font-family:'DM Sans',sans-serif;color:var(--text);overflow-x:hidden}

/* ‚ïê‚ïê PAGES ‚ïê‚ïê */
.page{display:none;min-height:100vh}
.page.active{display:block}

/* ‚ïê‚ïê LOGIN PAGE ‚ïê‚ïê */
#p-login{background:var(--primary);display:flex;flex-direction:column;
  align-items:center;justify-content:center;padding:28px 18px}
.logo-box{width:76px;height:76px;background:rgba(255,255,255,.15);border-radius:22px;
  display:flex;align-items:center;justify-content:center;font-size:36px;
  margin:0 auto 12px;border:1px solid rgba(255,255,255,.2)}
.logo-name{font-family:'Sora',sans-serif;font-size:28px;font-weight:700;color:#fff;text-align:center}
.logo-sub{font-size:13px;color:rgba(255,255,255,.6);margin-top:3px;margin-bottom:28px;text-align:center}
.login-card{background:#fff;border-radius:22px;padding:26px 22px;width:100%;max-width:400px;box-shadow:var(--shl)}
.lc-t{font-family:'Sora',sans-serif;font-size:18px;font-weight:700;margin-bottom:3px}
.lc-s{font-size:13px;color:var(--muted);margin-bottom:20px}
.err-box{background:#fdeaea;border:1px solid #f5b5b5;color:var(--bad);
  border-radius:var(--rs);padding:9px 13px;font-size:12px;margin-bottom:13px;
  display:none;border-left:3px solid var(--bad)}
.err-box.on{display:block}
.fg{margin-bottom:14px}
.fg label{font-size:11px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.5px;display:block;margin-bottom:5px}
.fg input{width:100%;border:2px solid var(--border);border-radius:var(--rs);padding:11px 13px;font-size:15px;font-family:'DM Sans',sans-serif;color:var(--text);outline:none;background:var(--bg);transition:.2s}
.fg input:focus{border-color:var(--primary);background:#fff}
.pw-w{position:relative}
.pw-w input{padding-right:42px}
.eye{position:absolute;right:11px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;font-size:17px;padding:4px}
.hint{font-size:11px;color:var(--muted);text-align:center;margin-top:13px;line-height:1.6}
.hint strong{color:var(--primary)}

/* ‚ïê‚ïê TOPBAR ‚ïê‚ïê */
.topbar{position:fixed;top:0;left:0;right:0;z-index:400;height:var(--bar);
  background:var(--card);border-bottom:1.5px solid var(--border);
  box-shadow:0 1px 8px rgba(0,0,0,.06);display:flex;align-items:center;padding:0 8px;gap:4px}
.tb-logo{font-family:'Sora',sans-serif;font-size:15px;font-weight:700;white-space:nowrap;flex-shrink:0;padding:0 4px}
.tb-back{display:flex;align-items:center;gap:2px;color:var(--primary);font-weight:600;font-size:14px;text-decoration:none;white-space:nowrap;flex-shrink:0;padding:0 4px;cursor:pointer;background:none;border:none;font-family:'DM Sans',sans-serif}
.tb-nav{flex:1;display:flex;align-items:center;justify-content:center;gap:1px}
.ni{display:flex;flex-direction:column;align-items:center;justify-content:center;
  gap:1px;width:50px;height:46px;border-radius:9px;cursor:pointer;
  text-decoration:none;transition:background .13s;position:relative;flex-shrink:0;
  background:none;border:none;font-family:'DM Sans',sans-serif}
.ni:active{background:var(--pale)}
.ni-i{font-size:18px;line-height:1}
.ni-l{font-size:9px;font-weight:600;color:var(--muted);line-height:1}
.ni.on .ni-l{color:var(--primary)}
.ni.on::after{content:'';position:absolute;bottom:3px;width:16px;height:2.5px;border-radius:2px;background:var(--primary)}
.tb-right{display:flex;align-items:center;gap:6px;flex-shrink:0;padding:0 2px}
.bell{font-size:19px;cursor:pointer;line-height:1;background:none;border:none}
.ava{width:30px;height:30px;border-radius:50%;background:var(--primary);color:#fff;
  display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;cursor:pointer;border:none}

/* ‚ïê‚ïê PAGE CONTENT ‚ïê‚ïê */
.pg{padding:14px;padding-top:calc(var(--bar)+14px);padding-bottom:28px;max-width:600px;margin:0 auto}

/* ‚ïê‚ïê CARDS ‚ïê‚ïê */
.card{background:var(--card);border-radius:var(--r);padding:14px;box-shadow:var(--sh);margin-bottom:12px}
.sec{font-family:'Sora',sans-serif;font-size:14px;font-weight:700;color:var(--text);margin:14px 0 9px}
.sec:first-child{margin-top:0}

/* ‚ïê‚ïê ASSIGN ROW ‚ïê‚ïê */
.ar{display:flex;align-items:center;gap:11px;padding:11px 0;border-bottom:1px solid var(--border);cursor:pointer;transition:.15s}
.ar:last-child{border-bottom:none;padding-bottom:0}
.ar:active{opacity:.7}
.dot{width:9px;height:9px;border-radius:50%;flex-shrink:0}
.d-bad{background:var(--bad)}.d-warn{background:var(--warn)}.d-ok{background:var(--ok)}
.ai{flex:1;min-width:0}
.an{font-size:13px;font-weight:600;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.am{font-size:11px;color:var(--muted);margin-top:1px}
.badge{font-size:10px;font-weight:700;padding:3px 8px;border-radius:20px;flex-shrink:0;white-space:nowrap}
.b-bad{background:#fdeaea;color:var(--bad)}
.b-warn{background:#fef3ea;color:var(--warn)}
.b-ok{background:#e8f5ee;color:var(--ok)}
.b-late{background:#f5eaea;color:var(--bad);border:1px solid #f5b5b5}
.b-open{background:#eaf0fa;color:var(--info)}

/* ‚ïê‚ïê BUTTONS ‚ïê‚ïê */
.btn{border:none;border-radius:var(--rs);padding:13px;font-size:15px;font-weight:600;font-family:'DM Sans',sans-serif;cursor:pointer;transition:.2s}
.btn-p{background:var(--primary);color:#fff;width:100%}
.btn-p:active{opacity:.85;transform:scale(.98)}
.btn-p:disabled{background:var(--light);cursor:not-allowed}
.btn-g{background:var(--bg);color:var(--text);flex:1}
.btn-d{background:var(--bad);color:#fff;flex:1}
.btn-c{background:var(--primary);color:#fff;flex:1}

/* ‚ïê‚ïê MODAL ‚ïê‚ïê */
.mover{position:fixed;inset:0;background:rgba(0,0,0,.4);z-index:600;display:none;align-items:flex-end;justify-content:center;backdrop-filter:blur(2px)}
.mover.on{display:flex}
.ms{background:var(--card);border-radius:22px 22px 0 0;padding:20px 18px 34px;width:100%;max-width:600px;animation:up .22s ease}
@keyframes up{from{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}
.mh{width:36px;height:4px;background:var(--border);border-radius:2px;margin:0 auto 16px}
.mt{font-family:'Sora',sans-serif;font-size:17px;font-weight:700;margin-bottom:4px}
.msub{font-size:13px;color:var(--muted);margin-bottom:18px}
.mbtns{display:flex;gap:9px}

/* ‚ïê‚ïê TOAST ‚ïê‚ïê */
.toast{position:fixed;bottom:24px;left:50%;transform:translateX(-50%) translateY(16px);
  background:var(--text);color:#fff;padding:10px 18px;border-radius:28px;
  font-size:12px;font-weight:600;z-index:999;opacity:0;transition:.27s;pointer-events:none;white-space:nowrap}
.toast.on{opacity:1;transform:translateX(-50%) translateY(0)}

/* ‚ïê‚ïê LOADING OVERLAY ‚ïê‚ïê */
.loading{position:fixed;inset:0;background:var(--primary);display:flex;
  flex-direction:column;align-items:center;justify-content:center;z-index:999;
  opacity:0;pointer-events:none;transition:opacity .3s}
.loading.on{opacity:1;pointer-events:all}
.loading-i{font-size:52px;animation:pulse 1s ease-in-out infinite;margin-bottom:14px}
.loading-t{font-family:'Sora',sans-serif;font-size:16px;font-weight:600;color:#fff;opacity:.85}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.12)}}

/* ‚ïê‚ïê CHIPS (countdown) ‚ïê‚ïê */
.chip{flex-shrink:0;border-radius:14px;padding:13px 15px;min-width:120px;display:block;transition:.15s;cursor:pointer;border:none;text-align:left;font-family:'DM Sans',sans-serif}
.chip:active{opacity:.85;transform:scale(.97)}
.cp{background:var(--primary);color:#fff}
.ca{background:var(--accent);color:#fff}
.ci{background:var(--info);color:#fff}
.cg{background:var(--ok);color:#fff}
.chip-lbl{font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:.6px;opacity:.8;margin-bottom:4px}
.chip-days{font-family:'Sora',sans-serif;font-size:24px;font-weight:700;line-height:1}
.chip-days span{font-size:12px;font-weight:400}
.chip-name{font-size:10px;opacity:.85;margin-top:3px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:108px}
.sr{display:flex;gap:10px;overflow-x:auto;padding-bottom:4px;scrollbar-width:none}
.sr::-webkit-scrollbar{display:none}

/* ‚ïê‚ïê DETAIL GRID ‚ïê‚ïê */
.dg{display:grid;grid-template-columns:1fr 1fr;gap:9px;margin-top:11px}
.di{background:var(--bg);border-radius:var(--rs);padding:9px 11px}
.dl{font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:.4px;color:var(--muted);margin-bottom:2px}
.dv{font-size:13px;font-weight:600;color:var(--text)}

/* ‚ïê‚ïê TABS ‚ïê‚ïê */
.tabs{display:flex;background:var(--card);border-radius:var(--rs);padding:4px;margin-bottom:12px;gap:3px;box-shadow:var(--sh)}
.tab{flex:1;padding:8px;text-align:center;border-radius:8px;font-size:12px;font-weight:600;color:var(--muted);cursor:pointer;border:none;background:none;font-family:'DM Sans',sans-serif;transition:.13s}
.tab.on{background:var(--primary);color:#fff}

/* ‚ïê‚ïê CHIPS (exam) ‚ïê‚ïê */
.xchip{background:var(--info);color:#fff;border-radius:18px;padding:2px 8px;font-size:9px;font-weight:700}
.mchip{background:var(--bad);color:#fff;border-radius:18px;padding:2px 8px;font-size:9px;font-weight:700}

/* ‚ïê‚ïê CALENDAR ‚ïê‚ïê */
.cal-hdr{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.cal-mon{font-family:'Sora',sans-serif;font-size:17px;font-weight:700}
.cal-btn{width:36px;height:36px;border-radius:50%;border:2px solid var(--border);background:var(--card);cursor:pointer;font-size:17px;display:flex;align-items:center;justify-content:center;color:var(--text);transition:.13s}
.cal-btn:active{background:var(--pale);border-color:var(--primary)}
.cg{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;margin-bottom:4px}
.ch{text-align:center;font-size:9px;font-weight:700;color:var(--muted);padding:4px 0;text-transform:uppercase}
.cd{aspect-ratio:1;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:12px;cursor:pointer;transition:.13s;position:relative;font-weight:500;color:var(--text)}
.cd:active{background:var(--pale)}
.cd.other{color:var(--light)}
.cd.today{background:var(--primary);color:#fff;font-weight:700}
.cd.has-a::after,.cd.has-m::after,.cd.has-x::after{content:'';position:absolute;bottom:1px;width:4px;height:4px;border-radius:50%}
.cd.has-a::after{background:var(--warn)}
.cd.has-m::after{background:var(--bad)}
.cd.has-x::after{background:var(--info)}
.cd.today::after{background:rgba(255,255,255,.7)}
.leg{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:13px}
.leg-i{display:flex;align-items:center;gap:5px;font-size:10px;color:var(--muted);font-weight:600}
.leg-d{width:9px;height:9px;border-radius:50%}
.ev{display:flex;align-items:center;gap:11px;padding:10px 0;border-bottom:1px solid var(--border);cursor:pointer;transition:.13s}
.ev:last-child{border-bottom:none}
.ev:active{opacity:.7}
.ev-dot{width:11px;height:11px;border-radius:3px;flex-shrink:0}
.ev-n{font-size:13px;font-weight:600;color:var(--text)}
.ev-m{font-size:11px;color:var(--muted);margin-top:1px}

/* ‚ïê‚ïê COURSES GRID ‚ïê‚ïê */
.banner{border-radius:var(--r);padding:18px;margin-bottom:14px;background:var(--primary);display:flex;align-items:center;justify-content:space-between}
.bn-t{font-family:'Sora',sans-serif;font-size:19px;font-weight:700;color:#fff}
.bn-s{font-size:11px;color:rgba(255,255,255,.6);margin-top:2px}
.bn-r{text-align:right;color:#fff}
.bn-n{font-family:'Sora',sans-serif;font-size:22px;font-weight:700;line-height:1}
.bn-l{font-size:9px;opacity:.6}
.cgrid{display:grid;grid-template-columns:1fr 1fr;gap:11px}
.cc{background:var(--card);border-radius:var(--r);padding:14px 12px;box-shadow:var(--sh);display:block;position:relative;overflow:hidden;transition:.18s;cursor:pointer;border:none;text-align:left;width:100%;font-family:'DM Sans',sans-serif}
.cc:active{transform:scale(.97);opacity:.9}
.cc-bar{position:absolute;top:0;left:0;right:0;height:4px;border-radius:var(--r) var(--r) 0 0}
.cc-icon{font-size:28px;margin:4px 0 7px}
.cc-code{font-size:9px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.5px}
.cc-name{font-family:'Sora',sans-serif;font-size:12px;font-weight:700;color:var(--text);margin-top:2px;line-height:1.3}
.cc-cred{font-size:10px;color:var(--muted);margin-top:5px}
.cc-pend{font-size:10px;font-weight:700;margin-top:3px}
@media(min-width:540px){.cgrid{grid-template-columns:repeat(3,1fr)}}

/* ‚ïê‚ïê COURSE DETAIL HERO ‚ïê‚ïê */
.hero{border-radius:var(--r);padding:18px;margin-bottom:12px;color:#fff}
.h-icon{font-size:34px;margin-bottom:7px}
.h-code{font-size:11px;font-weight:700;opacity:.7;text-transform:uppercase;letter-spacing:.5px}
.h-name{font-family:'Sora',sans-serif;font-size:19px;font-weight:700;margin-top:2px}
.h-meta{font-size:12px;opacity:.7;margin-top:3px}
.h-stats{display:flex;gap:20px;margin-top:14px;padding-top:14px;border-top:1px solid rgba(255,255,255,.2)}
.hs .sn{font-family:'Sora',sans-serif;font-size:17px;font-weight:700}
.hs .sl{font-size:9px;opacity:.65;margin-top:1px}

/* ‚ïê‚ïê ASSIGN DETAIL ‚ïê‚ïê */
.det-hdr{background:var(--card);border-radius:var(--r);padding:16px;margin-bottom:11px;box-shadow:var(--sh)}
.st-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:9px}
.ctag{font-size:10px;font-weight:700;color:var(--primary);background:var(--pale);padding:3px 11px;border-radius:18px}
.det-title{font-family:'Sora',sans-serif;font-size:18px;font-weight:700;line-height:1.3;margin-bottom:11px}
.inst-row{display:flex;align-items:center;gap:11px;background:var(--bg);border-radius:var(--rs);padding:11px 13px;cursor:pointer;transition:.13s}
.inst-row:active{opacity:.8}
.inst-av{width:40px;height:40px;border-radius:50%;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:16px;flex-shrink:0}
.inst-name{font-size:13px;font-weight:600}
.inst-role{font-size:11px;color:var(--muted);margin-top:1px}
.sz{background:var(--card);border-radius:var(--r);padding:16px;box-shadow:var(--sh)}
.sz-t{font-family:'Sora',sans-serif;font-size:14px;font-weight:700;margin-bottom:13px}
.fdrop{border:2px dashed var(--border);border-radius:var(--rs);padding:26px 18px;text-align:center;cursor:pointer;transition:.2s;background:var(--bg)}
.fdrop.on{border-color:var(--primary);background:var(--pale)}
.fdrop-i{font-size:34px;margin-bottom:7px}
.fdrop-t{font-size:12px;color:var(--muted)}
.fdrop-f{font-size:11px;color:var(--primary);font-weight:600;margin-top:5px}
.sub-state{text-align:center;padding:18px 10px}
.sub-ico{font-size:50px;margin-bottom:9px}
.sub-ttl{font-family:'Sora',sans-serif;font-size:16px;font-weight:700}
.sub-s{font-size:12px;color:var(--muted);margin-top:4px}
.sub-f{font-size:11px;color:var(--primary);font-weight:600;margin-top:7px;background:var(--pale);padding:5px 13px;border-radius:18px;display:inline-block}
.cant{background:#fdeaea;border:1px solid #f5b5b5;border-radius:var(--rs);padding:13px;display:flex;align-items:flex-start;gap:9px}
.cant-i{font-size:20px;flex-shrink:0}
.cant-t{font-size:12px;color:var(--bad);font-weight:600;line-height:1.5}

/* ‚ïê‚ïê SUBMITTED PAGE ‚ïê‚ïê */
.sum-row{display:grid;grid-template-columns:repeat(3,1fr);gap:9px;margin-bottom:14px}
.sc{background:var(--card);border-radius:var(--rs);padding:13px 10px;text-align:center;box-shadow:var(--sh)}
.snum{font-family:'Sora',sans-serif;font-size:21px;font-weight:700}
.slbl{font-size:9px;color:var(--muted);font-weight:600;margin-top:2px}
.si{display:flex;align-items:center;gap:11px;padding:11px 0;border-bottom:1px solid var(--border);cursor:pointer;transition:.13s}
.si:last-child{border-bottom:none;padding-bottom:0}
.si:active{opacity:.7}
.si-ic{width:40px;height:40px;border-radius:11px;display:flex;align-items:center;justify-content:center;font-size:19px;flex-shrink:0}
.si-n{font-size:13px;font-weight:600;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.si-m{font-size:11px;color:var(--muted);margin-top:1px}

/* ‚ïê‚ïê PROFILE ‚ïê‚ïê */
.phero{background:var(--primary);border-radius:var(--r);padding:26px 18px;text-align:center;color:#fff;margin-bottom:14px}
.pav{width:72px;height:72px;border-radius:50%;background:rgba(255,255,255,.2);border:3px solid rgba(255,255,255,.35);margin:0 auto 11px;display:flex;align-items:center;justify-content:center;font-size:28px;font-weight:700}
.pname{font-family:'Sora',sans-serif;font-size:21px;font-weight:700}
.pid{font-size:12px;opacity:.7;margin-top:2px}
.pdept{font-size:11px;opacity:.6;margin-top:2px}
.pstats{display:flex;justify-content:center;gap:26px;margin-top:16px;padding-top:16px;border-top:1px solid rgba(255,255,255,.2)}
.psn{font-family:'Sora',sans-serif;font-size:21px;font-weight:700}
.psl{font-size:9px;opacity:.6;margin-top:1px}
.sg{background:var(--card);border-radius:var(--r);overflow:hidden;box-shadow:var(--sh);margin-bottom:11px}
.si2{display:flex;align-items:center;gap:11px;padding:14px;border-bottom:1px solid var(--border);cursor:pointer;transition:.13s;border:none;background:none;width:100%;text-align:left;font-family:'DM Sans',sans-serif}
.si2:last-child{border-bottom:none}
.si2:active{background:var(--bg)}
.si2-ic{font-size:19px;width:36px;height:36px;background:var(--bg);border-radius:9px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.si2-t{flex:1;font-size:13px;font-weight:500;color:var(--text)}
.si2-a{color:var(--light);font-size:14px}
.glbl{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--muted);margin:13px 0 7px}
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     LOADING OVERLAY
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="loading" id="loading">
  <div class="loading-i">üìö</div>
  <div class="loading-t">Signing you in‚Ä¶</div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     TOAST
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="toast" id="toast"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PAGE: LOGIN
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page active" id="p-login">
  <div style="min-height:100vh;background:var(--primary);display:flex;flex-direction:column;align-items:center;justify-content:center;padding:28px 18px">
    <div style="text-align:center;margin-bottom:28px">
      <div class="logo-box">üìö</div>
      <div class="logo-name">StudyFlow</div>
      <div class="logo-sub">Your academic companion</div>
    </div>
    <div class="login-card">
      <div class="lc-t">Welcome back üëã</div>
      <div class="lc-s">Sign in to continue</div>
      <div class="err-box" id="err">‚ùå Incorrect Student ID or password. Try again.</div>
      <div class="fg">
        <label>Student ID</label>
        <input id="uid" type="text" placeholder="e.g. 6500000001" value="6500000001">
      </div>
      <div class="fg">
        <label>Password</label>
        <div class="pw-w">
          <input id="pw" type="password" placeholder="Enter your password" value="password123">
          <button class="eye" onclick="togglePw()">üëÅÔ∏è</button>
        </div>
      </div>
      <button class="btn btn-p" onclick="doLogin()">Sign In</button>
      <div class="hint">Demo: ID <strong>6500000001</strong> / PW <strong>password123</strong></div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     TOPBAR (shared, shown when logged in)
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="topbar" id="topbar" style="display:none">
  <div id="tb-left">
    <span class="tb-logo" id="tb-title">üìö StudyFlow</span>
  </div>
  <nav class="tb-nav">
    <button class="ni" data-page="dashboard" onclick="nav('dashboard')"><div class="ni-i">üè†</div><div class="ni-l">Home</div></button>
    <button class="ni" data-page="calendar" onclick="nav('calendar')"><div class="ni-i">üìÖ</div><div class="ni-l">Calendar</div></button>
    <button class="ni" data-page="courses" onclick="nav('courses')"><div class="ni-i">üìö</div><div class="ni-l">Courses</div></button>
    <button class="ni" data-page="submitted" onclick="nav('submitted')"><div class="ni-i">‚úÖ</div><div class="ni-l">Done</div></button>
    <button class="ni" data-page="profile" onclick="nav('profile')"><div class="ni-i">üë§</div><div class="ni-l">Profile</div></button>
  </nav>
  <div class="tb-right">
    <button class="bell" onclick="showToast('No new notifications')">üîî</button>
    <button class="ava" onclick="nav('profile')">G</button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PAGE: DASHBOARD
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="p-dashboard">
  <div class="pg">
    <div style="font-family:'Sora',sans-serif;font-size:21px;font-weight:700;margin-bottom:2px">Hi, Giselle üëã</div>
    <div style="font-size:12px;color:var(--muted);margin-bottom:14px">Semester 2 / 2026 &nbsp;¬∑&nbsp; 18 credits</div>
    <div class="sec">‚è± Countdown</div>
    <div class="sr" id="chips"></div>
    <div class="sec">üìã Assignments</div>
    <div class="card" id="dash-alist"></div>
    <div class="sec">üìÖ Exam Schedule</div>
    <div class="card" id="dash-exams"></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PAGE: CALENDAR
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="p-calendar">
  <div class="pg">
    <div class="card">
      <div class="cal-hdr">
        <button class="cal-btn" onclick="calMove(-1)">‚Äπ</button>
        <div class="cal-mon" id="cal-mon-lbl"></div>
        <button class="cal-btn" onclick="calMove(1)">‚Ä∫</button>
      </div>
      <div class="cg" id="cal-grid"></div>
    </div>
    <div class="leg">
      <div class="leg-i"><div class="leg-d" style="background:var(--warn)"></div>Assignment</div>
      <div class="leg-i"><div class="leg-d" style="background:var(--bad)"></div>Midterm</div>
      <div class="leg-i"><div class="leg-d" style="background:var(--info)"></div>Final Exam</div>
    </div>
    <div class="sec" id="ev-hdr" style="margin-top:0">Events</div>
    <div class="card" id="ev-list"></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PAGE: COURSES
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="p-courses">
  <div class="pg">
    <div class="banner">
      <div><div class="bn-t">üìö Semester 2</div><div class="bn-s">Academic Year 2025‚Äì2026</div></div>
      <div class="bn-r">
        <div class="bn-n">6</div><div class="bn-l">Courses</div>
        <div class="bn-n" style="margin-top:7px">18</div><div class="bn-l">Credits</div>
      </div>
    </div>
    <div class="cgrid" id="courses-grid"></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PAGE: COURSE DETAIL
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="p-course-detail">
  <div class="pg">
    <div class="hero" id="cd-hero"></div>
    <div class="tabs">
      <button class="tab on" onclick="cdTab(this,'assigns')">Assignments</button>
      <button class="tab" onclick="cdTab(this,'exams')">Exams</button>
      <button class="tab" onclick="cdTab(this,'info')">Info</button>
    </div>
    <div id="cd-content"></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PAGE: ASSIGN DETAIL
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="p-assign-detail">
  <div class="pg" id="ad-pg"></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PAGE: SUBMITTED
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="p-submitted">
  <div class="pg">
    <div class="sum-row">
      <div class="sc"><div class="snum" style="color:var(--ok)" id="cnt-s">‚Äî</div><div class="slbl">On Time</div></div>
      <div class="sc"><div class="snum" style="color:var(--bad)" id="cnt-l">‚Äî</div><div class="slbl">Late</div></div>
      <div class="sc"><div class="snum" style="color:var(--primary)" id="cnt-o">‚Äî</div><div class="slbl">Open</div></div>
    </div>
    <div class="sec" style="margin-top:0">Submissions</div>
    <div class="card" id="sub-list"></div>
    <div class="sec">Pending</div>
    <div class="card" id="pend-list"></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PAGE: PROFILE
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="p-profile">
  <div class="pg">
    <div class="phero">
      <div class="pav">G</div>
      <div class="pname">Giselle</div>
      <div class="pid">Student ID: 6500000001</div>
      <div class="pdept">Faculty of Engineering ¬∑ Software Engineering</div>
      <div class="pstats">
        <div><div class="psn">6</div><div class="psl">Courses</div></div>
        <div><div class="psn">18</div><div class="psl">Credits</div></div>
        <div><div class="psn" id="p-sub-cnt">‚Äî</div><div class="psl">Submitted</div></div>
      </div>
    </div>
    <div class="glbl">Account</div>
    <div class="sg">
      <button class="si2" onclick="showToast('Personal info')"><div class="si2-ic">üë§</div><div class="si2-t">Personal Information</div><div class="si2-a">‚Ä∫</div></button>
      <button class="si2" onclick="showToast('Notifications: On')"><div class="si2-ic">üîî</div><div class="si2-t">Notifications</div><div class="si2-a">‚Ä∫</div></button>
      <button class="si2" onclick="showToast('Language: English')"><div class="si2-ic">üåê</div><div class="si2-t">Language</div><div class="si2-a">‚Ä∫</div></button>
    </div>
    <div class="glbl">Academic</div>
    <div class="sg">
      <button class="si2" onclick="nav('courses')"><div class="si2-ic">üìö</div><div class="si2-t">My Courses</div><div class="si2-a">‚Ä∫</div></button>
      <button class="si2" onclick="nav('submitted')"><div class="si2-ic">‚úÖ</div><div class="si2-t">Submitted Assignments</div><div class="si2-a">‚Ä∫</div></button>
      <button class="si2" onclick="nav('calendar')"><div class="si2-ic">üìÖ</div><div class="si2-t">Exam Schedule</div><div class="si2-a">‚Ä∫</div></button>
    </div>
    <div class="glbl">Support</div>
    <div class="sg">
      <button class="si2" onclick="showToast('Help center')"><div class="si2-ic">‚ùì</div><div class="si2-t">Help & Support</div><div class="si2-a">‚Ä∫</div></button>
      <button class="si2" onclick="showToast('v2.0 ‚Äî Single File Edition')"><div class="si2-ic">‚ÑπÔ∏è</div><div class="si2-t">About StudyFlow</div><div class="si2-a">‚Ä∫</div></button>
      <button class="si2" onclick="openM('m-logout')"><div class="si2-ic" style="background:#fdeaea">üö™</div><div class="si2-t" style="color:var(--bad)">Sign Out</div><div class="si2-a">‚Ä∫</div></button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     MODALS
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="mover" id="m-logout">
  <div class="ms">
    <div class="mh"></div>
    <div class="mt">Sign Out?</div>
    <div class="msub">You'll be returned to the login screen.</div>
    <div class="mbtns">
      <button class="btn btn-g" onclick="closeM('m-logout')">Stay</button>
      <button class="btn btn-d" onclick="doLogout()">Sign Out</button>
    </div>
  </div>
</div>
<div class="mover" id="m-submit">
  <div class="ms">
    <div class="mh"></div>
    <div class="mt">Confirm Submission</div>
    <div class="msub" id="m-sub-txt">Submit your file?</div>
    <div class="mbtns">
      <button class="btn btn-g" onclick="closeM('m-submit')">Cancel</button>
      <button class="btn btn-c" onclick="doSubmit()">Submit ‚úì</button>
    </div>
  </div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DATA
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const TODAY = new Date(2026,1,19);
const CC = {cs301:'#7c3d3d',se201:'#c17b4e',cs401:'#4a6fa5',eng101:'#4a8c6f',math301:'#9b59b6',net201:'#e67e22'};
const COURSES = {
  cs301:{code:'CS301',name:'Database Systems',icon:'üóÑÔ∏è',credits:3,inst:'Dr. Somchai P.',room:'ENG-201',sched:'Mon/Wed 09:00',assigns:['a1','a5'],mid:'Mar 3, 2026',fin:'Apr 5, 2026'},
  se201:{code:'SE201',name:'Software Engineering',icon:'‚öôÔ∏è',credits:3,inst:'Asst.Prof. Nipa K.',room:'ENG-305',sched:'Tue/Thu 10:00',assigns:['a2','a7'],mid:'Mar 5, 2026',fin:'Apr 7, 2026'},
  cs401:{code:'CS401',name:'Algorithms',icon:'üßÆ',credits:3,inst:'Dr. Wiroj T.',room:'SCI-101',sched:'Mon/Fri 13:00',assigns:['a3','a6'],mid:'Mar 8, 2026',fin:'Apr 9, 2026'},
  eng101:{code:'ENG101',name:'English for Tech',icon:'üìù',credits:2,inst:'Aj. Malee S.',room:'HUM-102',sched:'Wed 14:00',assigns:['a4'],mid:'Mar 10, 2026',fin:'Apr 11, 2026'},
  math301:{code:'MATH301',name:'Discrete Math',icon:'üìê',credits:3,inst:'Dr. Chaiwat B.',room:'SCI-203',sched:'Tue/Thu 13:00',assigns:['a9'],mid:'Mar 12, 2026',fin:'Apr 13, 2026'},
  net201:{code:'NET201',name:'Computer Networks',icon:'üåê',credits:3,inst:'Dr. Prasert M.',room:'ENG-106',sched:'Mon/Wed 15:00',assigns:['a8'],mid:'Mar 15, 2026',fin:'Apr 15, 2026'},
};
const ADEF = {
  a1:{id:'a1',title:'Database Design HW3',course:'CS301',due:'Feb 21',dueDate:new Date(2026,1,21),pts:100,type:'Homework',status:'open',file:null,inst:{name:'Dr. Somchai P.',role:'Associate Professor'}},
  a2:{id:'a2',title:'SE Project Report',course:'SE201',due:'Feb 24',dueDate:new Date(2026,1,24),pts:50,type:'Report',status:'open',file:null,inst:{name:'Asst.Prof. Nipa K.',role:'Instructor'}},
  a3:{id:'a3',title:'Algo Problem Set 4',course:'CS401',due:'Mar 1',dueDate:new Date(2026,2,1),pts:80,type:'Problem Set',status:'open',file:null,inst:{name:'Dr. Wiroj T.',role:'Associate Professor'}},
  a4:{id:'a4',title:'English Essay Draft',course:'ENG101',due:'Feb 28',dueDate:new Date(2026,1,28),pts:30,type:'Essay',status:'submitted',submittedOn:'Feb 17',file:'essay_draft.pdf',inst:{name:'Aj. Malee S.',role:'Lecturer'}},
  a5:{id:'a5',title:'Database HW2',course:'CS301',due:'Feb 10',dueDate:new Date(2026,1,10),pts:100,type:'Homework',status:'submitted',submittedOn:'Feb 10',file:'db_hw2.pdf',inst:{name:'Dr. Somchai P.',role:'Associate Professor'}},
  a6:{id:'a6',title:'Algo Problem Set 3',course:'CS401',due:'Feb 11',dueDate:new Date(2026,1,11),pts:80,type:'Problem Set',status:'late',submittedOn:'Feb 12',file:'algo_ps3.pdf',inst:{name:'Dr. Wiroj T.',role:'Associate Professor'}},
  a7:{id:'a7',title:'SE Requirements Doc',course:'SE201',due:'Feb 5',dueDate:new Date(2026,1,5),pts:50,type:'Document',status:'submitted',submittedOn:'Feb 5',file:'se_req.docx',inst:{name:'Asst.Prof. Nipa K.',role:'Instructor'}},
  a8:{id:'a8',title:'Network Lab Report',course:'NET201',due:'Feb 26',dueDate:new Date(2026,1,26),pts:60,type:'Lab Report',status:'open',file:null,inst:{name:'Dr. Prasert M.',role:'Associate Professor'}},
  a9:{id:'a9',title:'Discrete Math HW2',course:'MATH301',due:'Feb 25',dueDate:new Date(2026,1,25),pts:40,type:'Homework',status:'open',file:null,inst:{name:'Dr. Chaiwat B.',role:'Associate Professor'}},
};
const CAL_EV = {
  '2026-1-21':[{n:'Database HW3 Due',t:'a',aid:'a1'}],
  '2026-1-24':[{n:'SE Project Report Due',t:'a',aid:'a2'}],
  '2026-1-25':[{n:'Discrete Math HW2 Due',t:'a',aid:'a9'}],
  '2026-1-26':[{n:'Network Lab Report Due',t:'a',aid:'a8'}],
  '2026-1-28':[{n:'English Essay Draft Due',t:'a',aid:'a4'}],
  '2026-2-1': [{n:'Algo Problem Set 4 Due',t:'a',aid:'a3'}],
  '2026-2-3': [{n:'CS301 Midterm ‚Äì Room A101',t:'m',cid:'cs301'}],
  '2026-2-5': [{n:'SE201 Midterm ‚Äì Room B203',t:'m',cid:'se201'}],
  '2026-2-8': [{n:'CS401 Midterm ‚Äì SCI-101',t:'m',cid:'cs401'}],
  '2026-2-10':[{n:'ENG101 Midterm ‚Äì HUM-102',t:'m',cid:'eng101'}],
  '2026-2-12':[{n:'MATH301 Midterm ‚Äì SCI-203',t:'m',cid:'math301'}],
  '2026-2-15':[{n:'NET201 Midterm ‚Äì ENG-106',t:'m',cid:'net201'}],
  '2026-3-5': [{n:'CS301 Final Exam',t:'x',cid:'cs301'}],
  '2026-3-7': [{n:'SE201 Final Exam',t:'x',cid:'se201'}],
  '2026-3-9': [{n:'CS401 Final Exam',t:'x',cid:'cs401'}],
  '2026-3-11':[{n:'ENG101 Final Exam',t:'x',cid:'eng101'}],
  '2026-3-13':[{n:'MATH301 Final Exam',t:'x',cid:'math301'}],
  '2026-3-15':[{n:'NET201 Final Exam',t:'x',cid:'net201'}],
};
const MN=['January','February','March','April','May','June','July','August','September','October','November','December'];
const SN=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STATE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let curPage = 'login';
let curCourse = 'cs301';
let curAssign = 'a1';
let curAssignFrom = 'dashboard';
let selFile = null;
let calM = 1, calY = 2026;
let cdCurTab = 'assigns';
let loggedIn = false;

function getA(){
  const s = sessionStorage.getItem('lms_a');
  if(!s) return JSON.parse(JSON.stringify(ADEF,(_,v)=>v instanceof Date?v.toISOString():v));
  const p = JSON.parse(s);
  Object.values(p).forEach(a=>a.dueDate=new Date(a.dueDate));
  return p;
}
function saveA(d){ sessionStorage.setItem('lms_a', JSON.stringify(d)); }
function dl(dt){ return Math.ceil((new Date(dt)-TODAY)/864e5); }
function badgeInfo(a){
  const s=a.status, d=dl(a.dueDate);
  if(s==='submitted') return {cls:'b-ok',txt:'‚úì Done',dot:'d-ok'};
  if(s==='late') return {cls:'b-late',txt:'Late',dot:'d-bad'};
  if(d<=0) return {cls:'b-bad',txt:'Overdue',dot:'d-bad'};
  if(d<=3) return {cls:'b-bad',txt:d+'d left',dot:'d-bad'};
  if(d<=7) return {cls:'b-warn',txt:d+'d left',dot:'d-warn'};
  return {cls:'b-open',txt:'Open',dot:'d-ok'};
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// UI HELPERS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let _tt;
function showToast(m){
  const t=document.getElementById('toast');
  t.textContent=m; t.classList.add('on');
  clearTimeout(_tt); _tt=setTimeout(()=>t.classList.remove('on'),2400);
}
function openM(id){ document.getElementById(id).classList.add('on'); }
function closeM(id){ document.getElementById(id).classList.remove('on'); }
document.addEventListener('click',e=>{
  document.querySelectorAll('.mover').forEach(o=>{if(e.target===o)o.classList.remove('on')});
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// NAVIGATION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById('p-'+id).classList.add('active');
  window.scrollTo(0,0);
}
function setNav(id){
  document.querySelectorAll('.ni').forEach(n=>{
    n.classList.toggle('on', n.dataset.page===id);
  });
}
function setTitle(txt, showBack=false, backFn=null){
  const el = document.getElementById('tb-left');
  if(showBack){
    el.innerHTML = `<button class="tb-back" onclick="${backFn}">${txt}</button>`;
  } else {
    el.innerHTML = `<span class="tb-logo">${txt}</span>`;
  }
}
function nav(page){
  curPage = page;
  document.getElementById('topbar').style.display = 'flex';
  switch(page){
    case 'dashboard':
      setTitle('üìö StudyFlow'); setNav('dashboard');
      renderDashboard(); showPage('dashboard'); break;
    case 'calendar':
      setTitle('Calendar'); setNav('calendar');
      renderCalendar(); showPage('calendar'); break;
    case 'courses':
      setTitle('My Courses'); setNav('courses');
      renderCourses(); showPage('courses'); break;
    case 'submitted':
      setTitle('Submitted'); setNav('submitted');
      renderSubmitted(); showPage('submitted'); break;
    case 'profile':
      setTitle('Profile'); setNav('profile');
      renderProfile(); showPage('profile'); break;
  }
}
function navCourse(cid){
  curCourse = cid;
  setTitle('‚Äπ Courses', true, "nav('courses')");
  setNav('courses'); cdCurTab='assigns';
  document.querySelectorAll('.tab').forEach((t,i)=>t.classList.toggle('on',i===0));
  renderCourseDetail(); showPage('course-detail');
}
function navAssign(aid, from){
  curAssign = aid; curAssignFrom = from||'dashboard';
  const backTxt = from==='course' ? '‚Äπ '+COURSES[curCourse]?.code
                : from==='submitted' ? '‚Äπ Submitted' : '‚Äπ Home';
  const backFn  = from==='course' ? `navCourse('${curCourse}')`
                : from==='submitted' ? "nav('submitted')" : "nav('dashboard')";
  setTitle(backTxt, true, backFn);
  setNav(from==='submitted'?'submitted':'courses');
  renderAssignDetail(); showPage('assign-detail');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// LOGIN
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function togglePw(){
  const i=document.getElementById('pw');
  i.type = i.type==='password'?'text':'password';
}
function doLogin(){
  const id=document.getElementById('uid').value.trim();
  const pw=document.getElementById('pw').value;
  const err=document.getElementById('err');
  if(id==='6500000001' && pw==='password123'){
    err.classList.remove('on');
    const ld=document.getElementById('loading');
    ld.classList.add('on');
    setTimeout(()=>{
      ld.classList.remove('on');
      loggedIn=true;
      nav('dashboard');
      showPage('dashboard');
    },1100);
  } else {
    err.classList.add('on');
    document.getElementById('pw').value='';
    document.getElementById('pw').focus();
  }
}
function doLogout(){
  closeM('m-logout');
  loggedIn=false;
  sessionStorage.removeItem('lms_a');
  document.getElementById('topbar').style.display='none';
  showPage('login');
}
document.getElementById('pw').addEventListener('keydown',e=>{if(e.key==='Enter')doLogin()});
document.getElementById('uid').addEventListener('keydown',e=>{if(e.key==='Enter')document.getElementById('pw').focus()});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// RENDER: DASHBOARD
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderDashboard(){
  const A=getA();
  // chips
  const chips=[
    {lbl:'Due Soon',days:dl(A.a1.dueDate),name:A.a1.title,fn:"navAssign('a1')",cls:'cp'},
    {lbl:'Upcoming',days:dl(A.a2.dueDate),name:A.a2.title,fn:"navAssign('a2')",cls:'ca'},
    {lbl:'Midterm',days:dl(new Date(2026,2,3)),name:'CS301 Midterm',fn:"nav('calendar')",cls:'ci'},
    {lbl:'Finals',days:dl(new Date(2026,3,5)),name:'All Subjects',fn:"nav('calendar')",cls:'cg'},
  ];
  document.getElementById('chips').innerHTML=chips.map(c=>
    `<button class="chip ${c.cls}" onclick="${c.fn}">
      <div class="chip-lbl">${c.lbl}</div>
      <div class="chip-days">${c.days} <span>days</span></div>
      <div class="chip-name">${c.name}</div>
    </button>`).join('');
  // assign list
  const order=['a1','a2','a3','a8','a9','a4'];
  document.getElementById('dash-alist').innerHTML=order.map((id,i)=>{
    const a=A[id]; if(!a)return'';
    const b=badgeInfo(a);
    const bdr=i<order.length-1?'':'border-bottom:none;padding-bottom:0';
    return `<div class="ar" onclick="navAssign('${id}')" style="${bdr}">
      <div class="dot ${b.dot}"></div>
      <div class="ai"><div class="an">${a.title}</div><div class="am">${a.course} ¬∑ Due ${a.due}</div></div>
      <div class="badge ${b.cls}">${b.txt}</div></div>`;
  }).join('');
  // exams
  const exams=[
    {name:'CS301 Midterm',meta:'Mar 3 ¬∑ Room A101',type:'m'},
    {name:'SE201 Midterm',meta:'Mar 5 ¬∑ Room B203',type:'m'},
    {name:'All Final Exams',meta:'Apr 5‚Äì15 ¬∑ TBD',type:'x'},
  ];
  document.getElementById('dash-exams').innerHTML=exams.map((e,i)=>`
    <div class="ar" onclick="nav('calendar')" style="${i===exams.length-1?'border-bottom:none;padding-bottom:0':''}">
      <div class="dot" style="background:${e.type==='m'?'var(--bad)':'var(--info)'}"></div>
      <div class="ai"><div class="an">${e.name}</div><div class="am">${e.meta}</div></div>
      <span class="${e.type==='m'?'mchip':'xchip'}">${e.type==='m'?'Midterm':'Final'}</span></div>`).join('');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// RENDER: CALENDAR
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderCalendar(){
  document.getElementById('cal-mon-lbl').textContent=MN[calM]+' '+calY;
  const first=new Date(calY,calM,1).getDay();
  const days=new Date(calY,calM+1,0).getDate();
  const prev=new Date(calY,calM,0).getDate();
  let h='';
  ['S','M','T','W','T','F','S'].forEach(d=>h+=`<div class="ch">${d}</div>`);
  for(let i=first-1;i>=0;i--)h+=`<div class="cd other">${prev-i}</div>`;
  for(let d=1;d<=days;d++){
    const k=`${calY}-${calM}-${d}`;const ev=CAL_EV[k]||[];
    const isT=d===TODAY.getDate()&&calM===TODAY.getMonth()&&calY===TODAY.getFullYear();
    let cls='cd'+(isT?' today':'');
    if(ev.some(e=>e.t==='m'))cls+=' has-m';
    else if(ev.some(e=>e.t==='x'))cls+=' has-x';
    else if(ev.length)cls+=' has-a';
    h+=`<div class="${cls}" onclick="calDayClick(${d})">${d}</div>`;
  }
  const rem=(first+days)%7===0?0:7-(first+days)%7;
  for(let i=1;i<=rem;i++)h+=`<div class="cd other">${i}</div>`;
  document.getElementById('cal-grid').innerHTML=h;
  document.getElementById('ev-hdr').textContent='Events in '+MN[calM];
  let ev='';
  for(let d=1;d<=days;d++){
    const k=`${calY}-${calM}-${d}`;
    (CAL_EV[k]||[]).forEach(e=>{
      const dc=e.t==='m'?'var(--bad)':e.t==='x'?'var(--info)':'var(--warn)';
      const fn=e.aid?`navAssign('${e.aid}','calendar')`:e.cid?`navCourse('${e.cid}')`:''
      ev+=`<div class="ev" onclick="${fn}">
        <div class="ev-dot" style="background:${dc}"></div>
        <div><div class="ev-n">${e.n}</div><div class="ev-m">${SN[calM]} ${d}, ${calY}</div></div>
        <div style="margin-left:auto;color:var(--light);font-size:14px">‚Ä∫</div></div>`;
    });
  }
  document.getElementById('ev-list').innerHTML=ev||'<p style="font-size:13px;color:var(--muted);padding:12px;text-align:center">No events this month</p>';
}
function calMove(dir){
  calM+=dir;
  if(calM>11){calM=0;calY++;}
  if(calM<0){calM=11;calY--;}
  renderCalendar();
}
function calDayClick(d){
  const k=`${calY}-${calM}-${d}`;const ev=CAL_EV[k];
  showToast(ev?ev[0].n:`No events on ${SN[calM]} ${d}`);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// RENDER: COURSES
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderCourses(){
  const A=getA();
  document.getElementById('courses-grid').innerHTML=Object.entries(COURSES).map(([id,c])=>{
    const pend=c.assigns.filter(aid=>A[aid]&&A[aid].status==='open').length;
    const pd=pend>0?`<div class="cc-pend" style="color:var(--bad)">${pend} pending</div>`
                   :`<div class="cc-pend" style="color:var(--ok)">All done ‚úì</div>`;
    return `<button class="cc" onclick="navCourse('${id}')">
      <div class="cc-bar" style="background:${CC[id]}"></div>
      <div class="cc-icon">${c.icon}</div>
      <div class="cc-code">${c.code}</div>
      <div class="cc-name">${c.name}</div>
      <div class="cc-cred">${c.credits} Credits</div>${pd}</button>`;
  }).join('');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// RENDER: COURSE DETAIL
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderCourseDetail(){
  const c=COURSES[curCourse];const col=CC[curCourse]||'#7c3d3d';
  document.getElementById('cd-hero').style.background=col;
  const A=getA();
  const pend=c.assigns.filter(aid=>A[aid]&&A[aid].status==='open').length;
  document.getElementById('cd-hero').innerHTML=`
    <div class="h-icon">${c.icon}</div>
    <div class="h-code">${c.code}</div>
    <div class="h-name">${c.name}</div>
    <div class="h-meta">${c.sched} ¬∑ ${c.room}</div>
    <div class="h-stats">
      <div class="hs"><div class="sn">${c.assigns.length}</div><div class="sl">Assigns</div></div>
      <div class="hs"><div class="sn">${c.credits}</div><div class="sl">Credits</div></div>
      <div class="hs"><div class="sn">${pend}</div><div class="sl">Pending</div></div>
    </div>`;
  cdRenderTab(cdCurTab);
}
function cdTab(btn,tab){
  document.querySelectorAll('.tab').forEach(b=>b.classList.remove('on'));
  btn.classList.add('on'); cdCurTab=tab; cdRenderTab(tab);
}
function cdRenderTab(tab){
  const A=getA();const c=COURSES[curCourse];
  const el=document.getElementById('cd-content');
  if(tab==='assigns'){
    if(!c.assigns.length){el.innerHTML='<div class="card"><p style="font-size:13px;color:var(--muted);text-align:center;padding:18px">No assignments yet</p></div>';return}
    el.innerHTML='<div class="card">'+c.assigns.map((id,i)=>{
      const a=A[id];const b=badgeInfo(a);
      const bdr=i<c.assigns.length-1?'':'border-bottom:none;padding-bottom:0';
      return `<div class="ar" onclick="navAssign('${id}','course')" style="${bdr}">
        <div class="dot ${b.dot}"></div>
        <div class="ai"><div class="an">${a.title}</div><div class="am">Due ${a.due} ¬∑ ${a.pts}pts</div></div>
        <div class="badge ${b.cls}">${b.txt}</div></div>`;
    }).join('')+'</div>';
  }else if(tab==='exams'){
    el.innerHTML=`<div class="card">
      <div class="ar" onclick="nav('calendar')">
        <div class="dot" style="background:var(--bad)"></div>
        <div class="ai"><div class="an">Midterm Exam</div><div class="am">${c.mid} ¬∑ ${c.room}</div></div>
        <span class="mchip">Midterm</span></div>
      <div class="ar" onclick="nav('calendar')" style="border-bottom:none;padding-bottom:0">
        <div class="dot" style="background:var(--info)"></div>
        <div class="ai"><div class="an">Final Exam</div><div class="am">${c.fin} ¬∑ TBD</div></div>
        <span class="xchip">Final</span></div>
    </div>`;
  }else{
    el.innerHTML=`<div class="card"><div class="dg">
      <div class="di"><div class="dl">Instructor</div><div class="dv" style="font-size:11px">${c.inst}</div></div>
      <div class="di"><div class="dl">Credits</div><div class="dv">${c.credits}</div></div>
      <div class="di"><div class="dl">Room</div><div class="dv">${c.room}</div></div>
      <div class="di"><div class="dl">Schedule</div><div class="dv" style="font-size:11px">${c.sched}</div></div>
      <div class="di"><div class="dl">Midterm</div><div class="dv" style="font-size:11px;color:var(--bad)">${c.mid}</div></div>
      <div class="di"><div class="dl">Final</div><div class="dv" style="font-size:11px;color:var(--info)">${c.fin}</div></div>
    </div></div>`;
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// RENDER: ASSIGN DETAIL
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderAssignDetail(){
  const A=getA(); const a=A[curAssign];
  if(!a){document.getElementById('ad-pg').innerHTML='<p>Not found.</p>';return;}
  const isS=a.status==='submitted'||a.status==='late';
  const isLate=!isS&&a.dueDate<TODAY;
  const d=dl(a.dueDate);
  const b=badgeInfo(a);
  const init=a.inst.name.replace(/^(Dr\.|Asst\.Prof\.|Aj\.|Prof\.)\s*/,'').charAt(0);
  let submitSec='';
  if(isS){
    submitSec=`<div class="sz"><div class="sub-state">
      <div class="sub-ico">${a.status==='late'?'‚ö†Ô∏è':'‚úÖ'}</div>
      <div class="sub-ttl" style="color:${a.status==='late'?'var(--warn)':'var(--ok)'}">${a.status==='late'?'Submitted Late':'Assignment Submitted!'}</div>
      <div class="sub-s">Submitted on ${a.submittedOn||'recently'}</div>
      ${a.file?`<div class="sub-f">üìÑ ${a.file}</div>`:''}
      ${a.status==='late'?'<div style="margin-top:9px;font-size:11px;color:var(--bad)">Received after deadline.</div>':''}
    </div></div>`;
  }else if(isLate){
    submitSec=`<div class="sz"><div class="sz-t">Submit Assignment</div>
      <div class="cant"><div class="cant-i">üö´</div>
      <div class="cant-t">Submission closed ‚Äî deadline passed.<br>Contact your instructor for help.</div></div></div>`;
  }else{
    submitSec=`<div class="sz">
      <div class="sz-t">Submit Assignment</div>
      <div class="fdrop" id="fdrop" onclick="document.getElementById('fi').click()">
        <input type="file" id="fi" style="display:none" onchange="onFile(this)">
        <div class="fdrop-i">üìé</div>
        <div class="fdrop-t">Tap to choose file (PDF, DOC, ZIP)</div>
        <div class="fdrop-f" id="fn"></div>
      </div>
      <button class="btn btn-p" id="btn-sub" disabled onclick="openM('m-submit')" style="margin-top:11px">Submit Assignment</button>
    </div>`;
  }
  document.getElementById('ad-pg').innerHTML=`
    <div class="det-hdr">
      <div class="st-row">
        <span class="ctag">${a.course}</span>
        <div class="badge ${b.cls}">${b.txt}</div>
      </div>
      <div class="det-title">${a.title}</div>
      <div class="dg">
        <div class="di"><div class="dl">Due Date</div><div class="dv" style="font-size:12px">${a.due}, 2026</div></div>
        <div class="di"><div class="dl">Points</div><div class="dv">${a.pts} pts</div></div>
        <div class="di"><div class="dl">Type</div><div class="dv">${a.type}</div></div>
        <div class="di"><div class="dl">Days Left</div><div class="dv" style="color:${d<=2&&!isS?'var(--bad)':'var(--text)'}">${isS?'‚Äî':d<=0?'Overdue':d+' days'}</div></div>
      </div>
    </div>
    <div class="card">
      <div class="sec" style="margin-top:0;margin-bottom:10px">Instructor</div>
      <div class="inst-row" onclick="showToast('üìß ${a.inst.name.toLowerCase().replace(/[^a-z]/g,'_')}@uni.ac.th')">
        <div class="inst-av">${init}</div>
        <div>
          <div class="inst-name">${a.inst.name}</div>
          <div class="inst-role">${a.inst.role} ¬∑ ${a.course}</div>
        </div>
        <div style="margin-left:auto;color:var(--light);font-size:14px">‚Ä∫</div>
      </div>
    </div>
    <div class="card">
      <div class="sec" style="margin-top:0;margin-bottom:8px">Description</div>
      <p style="font-size:13px;color:var(--muted);line-height:1.7">Complete all required tasks as described in the course handout. Submit only in accepted format (PDF preferred). Late submissions require instructor approval. Academic integrity must be maintained.</p>
    </div>
    ${submitSec}`;
  document.getElementById('m-sub-txt').textContent=`Submit your file for "${a.title}"?`;
}
function onFile(inp){
  if(inp.files[0]){
    selFile=inp.files[0].name;
    document.getElementById('fn').textContent='üìÑ '+selFile;
    document.getElementById('fdrop').classList.add('on');
    document.getElementById('btn-sub').disabled=false;
    document.getElementById('m-sub-txt').textContent=`Submit "${selFile}"?`;
  }
}
function doSubmit(){
  closeM('m-submit');
  const A=getA();
  A[curAssign].status='submitted'; A[curAssign].submittedOn='Feb 19'; A[curAssign].file=selFile;
  saveA(A); selFile=null;
  showToast('Submitted successfully! ‚úÖ');
  setTimeout(renderAssignDetail,350);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// RENDER: SUBMITTED
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderSubmitted(){
  const A=getA();
  const all=Object.values(A);
  const sub=all.filter(a=>a.status==='submitted');
  const late=all.filter(a=>a.status==='late');
  const open=all.filter(a=>a.status==='open');
  document.getElementById('cnt-s').textContent=sub.length;
  document.getElementById('cnt-l').textContent=late.length;
  document.getElementById('cnt-o').textContent=open.length;
  const done=[...sub,...late];
  const sl=document.getElementById('sub-list');
  sl.innerHTML=done.length?done.map((a,i)=>{
    const isL=a.status==='late';
    const bdr=i<done.length-1?'':'border-bottom:none;padding-bottom:0';
    return `<div class="si" onclick="navAssign('${a.id}','submitted')" style="${bdr}">
      <div class="si-ic" style="background:${isL?'#fdeaea':'#e8f5ee'}">${isL?'‚ö†Ô∏è':'‚úÖ'}</div>
      <div style="flex:1;min-width:0">
        <div class="si-n">${a.title}</div>
        <div class="si-m">${a.course} ¬∑ ${isL?'Late':'On time'} ¬∑ ${a.submittedOn||''}</div>
      </div>
      <div class="badge ${isL?'b-late':'b-ok'}">${isL?'Late':'Done'}</div></div>`;
  }).join(''):'<p style="font-size:13px;color:var(--muted);text-align:center;padding:15px">No submissions yet</p>';
  const pl=document.getElementById('pend-list');
  pl.innerHTML=open.length?open.map((a,i)=>{
    const d=dl(a.dueDate);
    const bdr=i<open.length-1?'':'border-bottom:none;padding-bottom:0';
    return `<div class="si" onclick="navAssign('${a.id}','submitted')" style="${bdr}">
      <div class="si-ic" style="background:#eaf0fa">üìã</div>
      <div style="flex:1;min-width:0">
        <div class="si-n">${a.title}</div>
        <div class="si-m">${a.course} ¬∑ Due ${a.due}</div>
      </div>
      <div class="badge ${d<=2?'b-bad':'b-open'}">${d<=0?'Overdue':d+'d'}</div></div>`;
  }).join(''):'<p style="font-size:13px;color:var(--muted);text-align:center;padding:15px">üéâ All done!</p>';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// RENDER: PROFILE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderProfile(){
  const A=getA();
  const cnt=Object.values(A).filter(a=>a.status==='submitted'||a.status==='late').length;
  document.getElementById('p-sub-cnt').textContent=cnt;
}
</script>
</body>
</html>
